var VueTable=function(t,e,a,n,s,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;var i="default"in n?n.default:n;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function p(t,e,a,n,s,r,i,o,l,c){"boolean"!=typeof i&&(l=o,o=i,i=!1);const u="function"==typeof a?a.options:a;let d;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),n&&(u._scopeId=n),r?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=d):e&&(d=i?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,o(t))}),d)if(u.functional){const t=u.render;u.render=function(e,a){return d.call(a),t(e,a)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,d):[d]}return a}s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var m=p({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.column.sortable?a("a",{attrs:{role:"button",href:"#"},on:{click:function(e){return e.preventDefault(),t.setOrder(e)}}},[t._v("\n    "+t._s(t.column.title)+"\n\n    "),a("i",{staticClass:"fas fa-fw",class:t.sortIcon})]):a("span",[t._v("\n    "+t._s(t.column.title)+"\n")])},staticRenderFns:[]},void 0,{name:"VueTableHeading",data:function(){return{direction:null}},props:{column:{type:Object,required:!0,validator:function(t){return Object.prototype.hasOwnProperty.call(t,"name")&&Object.prototype.hasOwnProperty.call(t,"title")&&Object.prototype.hasOwnProperty.call(t,"sortable")}}},computed:u({sortIcon:function(){switch(this.direction){case"asc":return"fa-sort-up";case"desc":return"fa-sort-down";default:return"fa-sort"}}},n.mapState("sortingModule",["sorting"])),methods:u({setOrder:function(){this.direction=null==this.direction?"asc":"asc"===this.direction?"desc":null,this.addSort({column:this.column.name,direction:this.direction})},extractDirectionFromSorting:function(){var t=this,e=this.sorting.filter((function(e){return e.column==t.column.name}));return e[0]?e[0].direction:null}},n.mapActions("sortingModule",{addSort:"addSortAction"})),mounted:function(){this.sortable&&(this.direction=this.extractDirectionFromSorting())}},void 0,!1,void 0,!1,void 0,void 0,void 0),h=p({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group"},[t._m(0),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:t.lang.search_for},domProps:{value:t.value},on:{input:function(e){return t.setValue(e.target.value)}}})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[e("i",{staticClass:"fas fa-search"})])])}]},void 0,{name:"VueTableSearchBar",data:function(){return{lang:this.$parent.lang}},methods:u({},n.mapActions("searchModule",{setValue:"setValueAction"})),computed:u({},n.mapState("searchModule",["value"]))},void 0,!1,void 0,!1,void 0,void 0,void 0),g=p({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"row mt-5"},[a("div",{staticClass:"col-sm-6"},[t.totalPages>1?a("ul",{staticClass:"pagination"},[1!=t.page?[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"First"},on:{click:function(e){return e.preventDefault(),t.setPage(1)}}},[a("i",{staticClass:"fas fa-backward"}),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("First")])])]),t._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.setPage(t.page-1)}}},[a("i",{staticClass:"fas fa-caret-left"}),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Previous")])])])]:t._e(),t._v(" "),t._l(t.linkButtons,(function(e,n){return a("li",{key:n,staticClass:"page-item",class:{active:e==t.page}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setPage(e)}}},[t._v(t._s(e))])])})),t._v(" "),t.page!=t.totalPages?[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.setPage(t.page+1)}}},[a("i",{staticClass:"fas fa-caret-right"}),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Next")])])]),t._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Last"},on:{click:function(e){return e.preventDefault(),t.setPage(t.totalPages)}}},[a("i",{staticClass:"fas fa-forward"}),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Last")])])])]:t._e()],2):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-6 text-sm-right"},[t._v("\n        Showing "+t._s(t.start)+" - "+t._s(t.end)+" of "+t._s(t.items)+"\n    ")])])},staticRenderFns:[]},void 0,{name:"VueTablePagination",props:{items:{type:Number,default:0,validator:function(t){return t>=0}},perPage:{type:Number,default:20,validator:function(t){return t>0}},maxLinks:{type:Number,default:5,validator:function(t){return t>0}}},methods:u({},n.mapActions("paginationModule",{setPage:"setPageAction"})),computed:u({start:function(){return(this.page-1)*this.perPage+1},end:function(){var t=this.start+this.perPage-1;return this.items<t?this.items:t},totalPages:function(){return Math.ceil(this.items/this.perPage)},linkButtons:function(){for(var t=this.linksSpan,e=[],a=t.lower;a<=t.higher;a++)e.push(a);return e},linksSpan:function(){var t=Math.floor(this.maxLinks/2),e=this.page-t,a=e<0?Math.abs(e)+1:0,n=this.page+t,s=n>this.totalPages?n-this.totalPages:0;return e+=a,n-=s,e-=s,n+=a,{lower:e+=e<1?1+Math.abs(e):0,higher:n-=n>this.totalPages?n-this.totalPages:0}}},n.mapState("paginationModule",["page"]))},void 0,!1,void 0,!1,void 0,void 0,void 0),v="vue_table_".concat(window.location.pathname,"_filters"),b=window.localStorage.getItem(v),y={namespaced:!0,state:{filters:b?JSON.parse(b):[]},mutations:{addFilter:function(t,e){t.filters=t.filters.filter((function(t){return t.column!=e.column})),e.values.length&&t.filters.push(e)},saveData:function(t){window.localStorage.setItem(v,JSON.stringify(t.filters))}},actions:{addFilterAction:function(t,e){var a=t.commit;a("addFilter",e),a("saveData")}}},_="vue_table_".concat(window.location.pathname,"_page"),C=window.localStorage.getItem(_),w={namespaced:!0,state:{page:C?parseInt(C):1},mutations:{setPage:function(t,e){t.page=e},saveData:function(t){window.localStorage.setItem(_,t.page)}},actions:{setPageAction:function(t,e){var a=t.commit;a("setPage",e),a("saveData")}}},S="vue_table_".concat(window.location.pathname,"_search"),O=window.localStorage.getItem(S),P={namespaced:!0,state:{value:null!=O?O:""},mutations:{setValue:function(t,e){t.value=e},saveData:function(t){window.localStorage.setItem(S,t.value)}},actions:{setValueAction:function(t,e){var a=t.commit;a("setValue",e),a("saveData")}}},k="vue_table_".concat(window.location.pathname,"_sorting"),I=window.localStorage.getItem(k),j={namespaced:!0,state:{sorting:I?JSON.parse(I):[]},mutations:{addSort:function(t,e){t.sorting=t.sorting.filter((function(t){return t.column!=e.column})),t.sorting.push(e)},saveData:function(t){window.localStorage.setItem(k,JSON.stringify(t.sorting))}},actions:{addSortAction:function(t,e){var a=t.commit;a("addSort",e),a("saveData")}}};s.use(i);var A={store:new i.Store({modules:{filtersModule:y,paginationModule:w,searchModule:P,sortingModule:j}}),name:"VueTable",components:{VueTableHeading:m,VueDraggable:r,VueTablePagination:g,VueTableSearchBar:h},data:function(){return{items:[],selectedItems:[],lang:{no_records:"No records found!",search_for:"Search for..."},totalItems:0}},props:{actions:{type:Object,default:function(){return{classes:"",slots:[]}},validator:function(t){return Object.prototype.hasOwnProperty.call(t,"slots")&&"object"===o(t.slots)}},columns:{type:Array,default:function(){return[]}},dataKey:{type:String,default:"data"},locale:{type:String,default:"en"},metaKey:{type:String,default:null},orderable:{type:Boolean,default:!1},checkable:{type:Object,default:function(){return{display:!1,attribute:null}},validator:function(t){return Object.prototype.hasOwnProperty.call(t,"display")&&Object.prototype.hasOwnProperty.call(t,"attribute")}},paginate:{type:Boolean,default:!0},perPage:{type:Number,default:20,validator:function(t){return t>0}},sorting:{type:Array,default:function(){return[]}},uri:{type:String,default:null}},methods:u({getItems:function(){var t=this,n=e,s=a,r={params:{columns:this.columns,page:this.page,filters:this.filters,perPage:this.perPage,search:this.search,sorting:this.currentSorting},paramsSerializer:function(t){return s.stringify(t)}};n.get(this.uri,r).then((function(e){var a;Object.prototype.hasOwnProperty.call(e.data,t.dataKey)&&(t.items=e.data[t.dataKey]),t.totalItems=null!==(a=null!=t.metaKey?e.data[t.metaKey].total:e.data.total)&&void 0!==a?a:t.items.length,t.$emit("update:items",t.items)}))},getSearchableColumns:function(){return this.columns.filter((function(t){return t.searchable}))},hydrateColumns:function(){this.columns.forEach((function(t){Object.prototype.hasOwnProperty.call(t,"name")||(t.name=null),Object.prototype.hasOwnProperty.call(t,"title")||(t.title=""),Object.prototype.hasOwnProperty.call(t,"sortable")&&"boolean"==typeof t.sortable||(t.sortable=!0),Object.prototype.hasOwnProperty.call(t,"visible")||(t.visible=!0)}))},toggleVueTableCheckables:function(t){var e=this;t.target.checked?this.selectedItems=this.items.map((function(t){return t[e.checkable.attribute]})):this.selectedItems=[]}},n.mapActions("sortingModule",{addSort:"addSortAction"}),{},n.mapActions("paginationModule",{setPage:"setPageAction"}),{},n.mapActions("filtersModule",{setFilter:"addFilterAction"})),computed:u({isSearchable:function(){return this.getSearchableColumns().length>0},visibleColumns:function(){return this.columns.filter((function(t){return t.visible}))}},n.mapState("filtersModule",["filters"]),{},n.mapState("sortingModule",{currentSorting:"sorting"}),{},n.mapState("searchModule",{search:"value"}),{},n.mapState("paginationModule",["page"])),watch:{page:function(){this.getItems()},currentSorting:function(){this.getItems()},search:function(){this.setPage(1),this.getItems()},filters:function(){this.setPage(1),this.getItems()}},created:function(){this.hydrateColumns()},mounted:function(){var t=this;this.sorting.forEach((function(e){return t.addSort(e)})),this.$root.$on("filterOptionSelected",this.setFilter),null!==this.uri&&this.getItems()}};const T="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function V(t){return(t,e)=>function(t,e){const a=T?e.media||"default":t,n=M[a]||(M[a]={ids:new Set,styles:[]});if(!n.ids.has(t)){n.ids.add(t);let a=e.source;if(e.map&&(a+="\n/*# sourceURL="+e.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",e.media&&n.element.setAttribute("media",e.media),void 0===x&&(x=document.head||document.getElementsByTagName("head")[0]),x.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(a),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{const t=n.ids.size-1,e=document.createTextNode(a),s=n.element.childNodes;s[t]&&n.element.removeChild(s[t]),s.length?n.element.insertBefore(e,s[t]):n.element.appendChild(e)}}}(t,e)}let x;const M={};var D=p({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card mb-4"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-row"},[t._t("filters"),t._v(" "),a("div",{staticClass:"col"},[t.isSearchable?a("vue-table-search-bar"):t._e()],1)],2)])]),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[0===t.items.length?a("div",{staticClass:"alert alert-info"},[t._v("\n                "+t._s(t.lang.no_records)+"\n            ")]):a("div",[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[t.orderable?a("th",{staticClass:"fit-content"}):t._e(),t._v(" "),t.checkable.display?a("th",{staticClass:"fit-content"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"vueTableCheckableAll"+t._uid},on:{change:t.toggleVueTableCheckables}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"vueTableCheckableAll"+t._uid}})])]):t._e(),t._v(" "),t._l(t.visibleColumns,(function(t){return a("th",{key:t.name,class:t.headerClasses},[a("vue-table-heading",{attrs:{column:t}})],1)})),t._v(" "),t.actions.slots.length?a("th"):t._e()],2)]),t._v(" "),a("vue-draggable",{attrs:{tag:"tbody",handle:".v-table-drag-handle",disabled:!t.orderable},on:{change:function(e){return t.$emit("itemsReordered",e.moved.element,e.moved.newIndex)}},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}},t._l(t.items,(function(e,n){return a("tr",{key:n},[t.orderable?a("td",{staticClass:"fit-content align-middle"},[a("button",{staticClass:"btn btn-sm v-table-drag-handle",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-arrows-alt-v"})])]):t._e(),t._v(" "),t.checkable.display?a("td",{staticClass:"fit-content align-middle"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedItems,expression:"selectedItems"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"vueTableCheckable"+t._uid+"_"+e[t.checkable.attribute]},domProps:{value:e[t.checkable.attribute],checked:Array.isArray(t.selectedItems)?t._i(t.selectedItems,e[t.checkable.attribute])>-1:t.selectedItems},on:{change:function(a){var n=t.selectedItems,s=a.target,r=!!s.checked;if(Array.isArray(n)){var i=e[t.checkable.attribute],o=t._i(n,i);s.checked?o<0&&(t.selectedItems=n.concat([i])):o>-1&&(t.selectedItems=n.slice(0,o).concat(n.slice(o+1)))}else t.selectedItems=r}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"vueTableCheckable"+t._uid+"_"+e[t.checkable.attribute]}})])]):t._e(),t._v(" "),t._l(t.visibleColumns,(function(n,s){return a("td",{key:s,class:n.rowClasses},[n.render&&"function"==typeof n.render?[a("div",{domProps:{innerHTML:t._s(n.render(e))}})]:n.name?[t._v("\n                                        "+t._s(e[n.name])+"\n                                    ")]:t._e()],2)})),t._v(" "),t.actions.slots.length?a("td",{staticClass:"fit-content align-middle",class:t.actions.classes},[t._l(t.actions.slots,(function(a){return t._t("action-"+a,null,{item:e})}))],2):t._e()],2)})),0)],1)]),t._v(" "),t.paginate?a("vue-table-pagination",{attrs:{"per-page":t.perPage,items:t.totalItems}}):t._e()],1)])])])},staticRenderFns:[]},(function(t){t&&t("data-v-b4288ed2_0",{source:".fit-content[data-v-b4288ed2]{width:1%;white-space:nowrap}",map:void 0,media:void 0})}),A,"data-v-b4288ed2",!1,void 0,!1,V,void 0,void 0),N={name:"filter-column",bind:function(t,e,a){var n=e.value,s=window.localStorage.getItem(v),r=(s=s?JSON.parse(s):[]).find((function(t){return t.column==n})),i=function(t){void 0!==r&&d(t.options).filter((function(t){return r.values.includes(t.value)})).map((function(t){return t.setAttribute("selected",!0)}))};i(t),t.addEventListener("vueTable.optionsLoaded",(function(t){i(t.target)})),t.addEventListener("change",(function(t){var e=d(t.target.options).filter((function(t){return t.selected&&t.value})).map((function(t){return t.value})),s={column:n,values:e};a.context.$root.$emit("filterOptionSelected",s)}))}},$=function(t){$.installed||($.installed=!0,t.component("VueTable",D))},E={install:$},F=null;return"undefined"!=typeof window?F=window.Vue:"undefined"!=typeof global&&(F=global.Vue),F&&F.use(E),D.install=$,t.VueTable=D,t.filterColumn=N,t}({},axios,qs,vuex,Vue,VueDraggable);