var VueTable=function(t,e,a,n,r,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var i="default"in r?r.default:r;function s(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;var m="vue_table_".concat(window.location.pathname,"_filters"),g=window.localStorage.getItem(m),h={namespaced:!0,state:{filters:g?JSON.parse(g):[]},mutations:{addFilter:function(t,e){t.filters=t.filters.filter((function(t){return t.column!=e.column})),e.values.length&&t.filters.push(e)},saveData:function(t){window.localStorage.setItem(m,JSON.stringify(t.filters))}},actions:{addFilterAction:function(t,e){var a=t.commit;a("addFilter",e),a("saveData")}}},v={bind:function(t,e,a){var n=window.localStorage.getItem(m),r=(n=n?JSON.parse(n):[]).find((function(t){return t.column==e.arg}));void 0!==r&&f(t.options).filter((function(t){return r.values.includes(t.value)})).map((function(t){return t.setAttribute("selected",!0)})),t.addEventListener("change",(function(t){var n=f(t.target.options).filter((function(t){return t.selected&&t.value})).map((function(t){return t.value}));a.context.$store.dispatch("filtersModule/addFilterAction",{column:e.arg,values:n})}))}};e.directive("filter-column",v);var b,y=(b=Object.freeze({__proto__:null}))&&b.default||b;function _(t,e,a,n,r,o,i,s,l,c){"boolean"!=typeof i&&(l=s,s=i,i=!1);const u="function"==typeof a?a.options:a;let d;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),n&&(u._scopeId=n),o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=d):e&&(d=i?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),d)if(u.functional){const t=u.render;u.render=function(e,a){return d.call(a),t(e,a)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,d):[d]}return a}var w=_({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.column.sortable?a("a",{attrs:{role:"button",href:"#"},on:{click:function(e){return e.preventDefault(),t.setOrder(e)}}},[t._v("\n    "+t._s(t.column.title)+"\n\n    "),a("i",{staticClass:"fas fa-fw",class:t.sortIcon})]):a("span",[t._v("\n    "+t._s(t.column.title)+"\n")])},staticRenderFns:[]},void 0,{name:"VueTableHeading",data:function(){return{direction:null}},props:{column:{type:Object,required:!0,validator:function(t){return Object.prototype.hasOwnProperty.call(t,"name")&&Object.prototype.hasOwnProperty.call(t,"title")&&Object.prototype.hasOwnProperty.call(t,"sortable")}}},computed:d({sortIcon:function(){switch(this.direction){case"asc":return"fa-sort-up";case"desc":return"fa-sort-down";default:return"fa-sort"}}},r.mapState("sortingModule",["sorting"])),methods:d({setOrder:function(){this.direction=null==this.direction?"asc":"asc"===this.direction?"desc":null,this.addSort({column:this.column.name,direction:this.direction})},extractDirectionFromSorting:function(){var t=this,e=this.sorting.filter((function(e){return e.column==t.column.name}));return e[0]?e[0].direction:null}},r.mapActions("sortingModule",{addSort:"addSortAction"})),mounted:function(){this.sortable&&(this.direction=this.extractDirectionFromSorting())}},void 0,!1,void 0,!1,void 0,void 0,void 0),S=_({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group"},[t._m(0),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:t.lang.search_for},domProps:{value:t.value},on:{input:function(e){return t.setValue(e.target.value)}}})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[e("i",{staticClass:"fas fa-search"})])])}]},void 0,{name:"VueTableSearchBar",data:function(){return{lang:this.$parent.lang}},methods:d({},r.mapActions("searchModule",{setValue:"setValueAction"})),computed:d({},r.mapState("searchModule",["value"]))},void 0,!1,void 0,!1,void 0,void 0,void 0),O=_({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card mb-4"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-row"},[t._t("filters"),t._v(" "),a("div",{staticClass:"col"},[t.isSearchable?a("vue-table-search-bar"):t._e()],1)],2)])]),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[0===t.items.length?a("div",{staticClass:"alert alert-info"},[t._v("\n                "+t._s(t.lang.no_records)+"\n            ")]):a("div",[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[t.orderable?a("th",{staticClass:"min-width"}):t._e(),t._v(" "),t._l(t.columns,(function(t){return a("th",{key:t.name,class:t.headerClasses},[a("vue-table-heading",{attrs:{column:t}})],1)})),t._v(" "),t.actions.slots.length?a("th"):t._e()],2)]),t._v(" "),a("vue-draggable",{attrs:{tag:"tbody",handle:".v-table-drag-handle",disabled:!t.orderable},on:{change:function(e){return t.$emit("itemsReordered",e.moved.element,e.moved.newIndex)}},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}},t._l(t.items,(function(e){return a("tr",{key:e.id},[t.orderable?a("td",{staticClass:"min-width align-middle"},[a("button",{staticClass:"btn btn-sm v-table-drag-handle",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-arrows-alt-v"})])]):t._e(),t._v(" "),t._l(t.columns,(function(n,r){return a("td",{key:r,class:n.rowClasses},[n.render&&"function"==typeof n.render?[a("div",{domProps:{innerHTML:t._s(n.render(e))}})]:n.name?[t._v("\n                                        "+t._s(e[n.name])+"\n                                    ")]:t._e()],2)})),t._v(" "),t.actions.slots.length?a("td",{staticClass:"v-table-options-wrapper min-width align-middle",class:t.actions.classes},[t._l(t.actions.slots,(function(a){return t._t("action-"+a,null,{item:e})}))],2):t._e()],2)})),0)],1)]),t._v(" "),t.paginate?a("vue-table-pagination",{attrs:{"per-page":t.perPage,items:t.totalItems}}):t._e()],1)])])])},staticRenderFns:[]},void 0,{name:"VueTable",components:{VueTableHeading:w,VueDraggable:o,VueTablePagination:_({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.totalPages>1?a("nav",[a("ul",{staticClass:"pagination"},[1!=t.page?[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"First"},on:{click:function(e){return e.preventDefault(),t.setPage(1)}}},[a("i",{staticClass:"fas fa-backward"}),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("First")])])]),t._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.setPage(t.page-1)}}},[a("i",{staticClass:"fas fa-caret-left"}),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Previous")])])])]:t._e(),t._v(" "),t._l(t.linkButtons,(function(e,n){return a("li",{key:n,staticClass:"page-item",class:{active:e==t.page}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.setPage(e)}}},[t._v(t._s(e))])])})),t._v(" "),t.page!=t.totalPages?[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.setPage(t.page+1)}}},[a("i",{staticClass:"fas fa-caret-right"}),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Next")])])]),t._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Last"},on:{click:function(e){return e.preventDefault(),t.setPage(t.totalPages)}}},[a("i",{staticClass:"fas fa-forward"}),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Last")])])])]:t._e()],2),t._v("\n\n    Showing "+t._s(t.start)+" - "+t._s(t.end)+" of "+t._s(t.items)+"\n")]):t._e()},staticRenderFns:[]},void 0,{name:"VueTablePagination",props:{items:{type:Number,default:0,validator:function(t){return t>=0}},perPage:{type:Number,default:20,validator:function(t){return t>0}},maxLinks:{type:Number,default:5,validator:function(t){return t>0}}},methods:d({},r.mapActions("paginationModule",{setPage:"setPageAction"})),computed:d({start:function(){return(this.page-1)*this.perPage},end:function(){var t=this.start+this.perPage;return this.items<t?this.items:t},totalPages:function(){return Math.ceil(this.items/this.perPage)},linkButtons:function(){for(var t=this.linksSpan,e=[],a=t.lower;a<=t.higher;a++)e.push(a);return e},linksSpan:function(){var t=Math.floor(this.maxLinks/2),e=this.page-t,a=e<0?Math.abs(e)+1:0,n=this.page+t,r=n>this.totalPages?n-this.totalPages:0;return e+=a,n-=r,e-=r,n+=a,{lower:e+=e<1?1+Math.abs(e):0,higher:n-=n>this.totalPages?n-this.totalPages:0}}},r.mapState("paginationModule",["page"]))},void 0,!1,void 0,!1,void 0,void 0,void 0),VueTableSearchBar:S},data:function(){return{items:[],lang:s("../resources/lang/".concat(this.locale,".json")),totalItems:0}},props:{actions:{type:Object,default:function(){return{classes:"",slots:[]}},validator:function(t){return Object.prototype.hasOwnProperty.call(t,"slots")&&"object"===l(t.slots)}},columns:{type:Array,default:function(){return[]}},dataKey:{type:String,default:"data"},locale:{type:String,default:"en"},metaKey:{type:String,default:"meta"},orderable:{type:Boolean,default:!1},paginate:{type:Boolean,default:!0},perPage:{type:Number,default:20,validator:function(t){return t>0}},sorting:{type:Array,default:function(){return[]}},uri:{type:String,default:null}},methods:d({getItems:function(){var t=this,e=a,r=n,o={params:{columns:this.columns,page:this.page,filters:this.filters,perPage:this.perPage,search:this.search,sorting:this.currentSorting},paramsSerializer:function(t){return r.stringify(t)}};e.get(this.uri,o).then((function(e){var a;(Object.prototype.hasOwnProperty.call(e.data,t.dataKey)&&(t.items=e.data[t.dataKey]),Object.prototype.hasOwnProperty.call(e.data,t.metaKey))&&(t.totalItems=null!==(a=e.data[t.metaKey].total)&&void 0!==a?a:t.items.length);t.$emit("update:items",t.items)}))},getSearchableColumns:function(){return this.columns.filter((function(t){return t.searchable}))},hydrateColumns:function(){this.columns.forEach((function(t){Object.prototype.hasOwnProperty.call(t,"name")||(t.name=null),Object.prototype.hasOwnProperty.call(t,"title")||(t.title=""),Object.prototype.hasOwnProperty.call(t,"sortable")&&"boolean"==typeof t.sortable||(t.sortable=!0)}))}},r.mapActions("sortingModule",{addSort:"addSortAction"}),{},r.mapActions("paginationModule",{setPage:"setPageAction"})),computed:d({isSearchable:function(){return this.getSearchableColumns().length>0}},r.mapState("filtersModule",["filters"]),{},r.mapState("sortingModule",{currentSorting:"sorting"}),{},r.mapState("searchModule",{search:"value"}),{},r.mapState("paginationModule",["page"])),watch:{page:function(){this.getItems()},currentSorting:function(){this.getItems()},search:function(){this.setPage(1),this.getItems()},filters:function(){this.setPage(1),this.getItems()}},created:function(){this.hydrateColumns()},mounted:function(){var t=this;this.sorting.forEach((function(e){return t.addSort(e)})),null!==this.uri&&this.getItems()}},void 0,!1,void 0,!1,void 0,void 0,void 0),P="vue_table_".concat(window.location.pathname,"_page"),C=window.localStorage.getItem(P),j={namespaced:!0,state:{page:C?parseInt(C):1},mutations:{setPage:function(t,e){t.page=e},saveData:function(t){window.localStorage.setItem(P,t.page)}},actions:{setPageAction:function(t,e){var a=t.commit;a("setPage",e),a("saveData")}}},I="vue_table_".concat(window.location.pathname,"_search"),A=window.localStorage.getItem(I),k={namespaced:!0,state:{value:null!=A?A:""},mutations:{setValue:function(t,e){t.value=e},saveData:function(t){window.localStorage.setItem(I,t.value)}},actions:{setValueAction:function(t,e){var a=t.commit;a("setValue",e),a("saveData")}}},M="vue_table_".concat(window.location.pathname,"_sorting"),D=window.localStorage.getItem(M),V={namespaced:!0,state:{sorting:D?JSON.parse(D):[]},mutations:{addSort:function(t,e){t.sorting=t.sorting.filter((function(t){return t.column!=e.column})),t.sorting.push(e)},saveData:function(t){window.localStorage.setItem(M,JSON.stringify(t.sorting))}},actions:{addSortAction:function(t,e){var a=t.commit;a("addSort",e),a("saveData")}}};e.use(i);var E=new i.Store({modules:{filtersModule:h,paginationModule:j,searchModule:k,sortingModule:V}}),T=function(t){T.installed||(T.installed=!0,t.component("VueTable",O))},$={install:T},x=null;"undefined"!=typeof window?x=window.Vue:"undefined"!=typeof global&&(x=global.Vue),x&&x.use($),O.install=T;var F={VueTable:O,store:E,directives:y};return t.default=F,t}({},Vue,axios,qs,vuex,vuedraggable);